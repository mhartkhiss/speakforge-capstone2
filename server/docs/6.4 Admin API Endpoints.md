--------------------------------------------------
USE CASE DIAGRAM PLANTUML CODE SAMPLE
--------------------------------------------------
@startuml Admin API Endpoints Use Case Diagram

left to right direction

actor "Admin" as Admin
actor "System" as System

rectangle "Backend API Services" {
    usecase "Admin Authentication" as UC1
    usecase "Manage Users" as UC2
    usecase "View Usage Statistics" as UC3
    usecase "Monitor API Usage" as UC4
    usecase "Configure Settings" as UC5
}

Admin --> UC1
UC1 --> UC2 : <<include>>
UC2 --> UC3 : <<include>>
UC2 --> UC4 : <<include>>
Admin --> UC5

note right of UC1
    Comprehensive admin API for system management
    and user oversight
end note

@enduml


------------------------------------------------
USE CASE DESCRIPTION SAMPLE
------------------------------------------------
Preconditions:
● Admin user exists in Django auth system
● Admin has staff privileges
● Firebase services accessible
Basic Flow (Main Success Scenario):
1. Admin authenticates via login endpoint
2. System validates credentials and issues token
3. Admin performs management operations (users, stats, settings)
4. System processes requests and updates data
5. Admin logs out and token is invalidated
Alternative Flows:
● User management: create, read, update, delete users
● Statistics viewing: usage stats, API usage with costs
● Settings configuration: backend URL, APK URL updates
● Authentication failure: invalid credentials handling
Postconditions:
● System data updated according to admin actions
● Audit trail maintained for admin operations


-------------------------------------------------
ACTIVITY DIAGRAM PLANTUML CODE SAMPLE
--------------------------------------------------

@startuml Admin API Endpoints Activity Diagram
title Admin API Endpoints

|Admin|
start
:Send login request with credentials;

|System|
:Validate admin credentials;
if (Valid credentials?) then (yes)
    :Generate authentication token;
    :Return token to admin;
else (no)
    :Return authentication error;
    stop
endif

|Admin|
:Use token for subsequent requests;
if (User management?) then (yes)
    :Choose operation (list/create/update/delete);
    |System|
    :Process user operation;
    :Update Firebase database;
    :Return operation result;
else (no)
    if (View statistics?) then (yes)
        :Request usage or API stats;
        |System|
        :Query database for statistics;
        :Calculate trends and costs;
        :Return formatted statistics;
    else (no)
        if (Configure settings?) then (yes)
            :Update backend or APK URLs;
            |System|
            :Validate new settings;
            :Store in Firebase;
            :Return confirmation;
        endif
    endif
endif

|Admin|
if (Logout?) then (yes)
    :Send logout request;
    |System|
    :Invalidate authentication token;
    :Return logout confirmation;
endif

stop
@enduml

-------------------------------------------------
