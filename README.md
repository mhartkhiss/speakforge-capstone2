# SpeakForge

## About SpeakForge

SpeakForge is an AI-Powered multilingual communication tool designed to eliminate language barriers by integrating real-time text and voice translation into chat-based conversations. The project addresses the growing need for seamless cross-lingual communication, particularly among international students, tourists, expatriates, and businesses operating in Cebu. By leveraging advanced AI-powered translation services, speech recognition technology, and intuitive user interfaces, SpeakForge facilitates effortless communication between Bisaya speaking communities and non-native speakers.

## Project Structure

This repository contains three main components:

- **`mobileapp/`** - Android Mobile Application (Java)
- **`admin/`** - Web Admin Panel (React.js)
- **`server/`** - Backend API (Django/Python)

## Features

*   **Real-time Text Translation:** Instantly translate chat messages into multiple languages.
*   **Voice-to-Text & Translation:** Speak in your native language, and have it transcribed and translated for the other user.
*   **Text-to-Speech:** Hear translated messages in a synthesized voice.
*   **Multilingual Support:** Designed to support Bisaya and other languages.
*   **User-Friendly Interface:** Intuitive design for easy navigation and use.
*   **Secure Communication:** Ensuring user data privacy and security.
*   **Admin Dashboard:** Comprehensive web-based administration panel for user and system management.

## Technology Stack

### Mobile App
*   **Programming Language:** Java
*   **IDE:** Android Studio
*   **Framework:** Android SDK
*   **Key Libraries:** Firebase SDK, Glide, Gson, ML Kit, CameraX

### Web Admin Panel
*   **Programming Language:** JavaScript
*   **Framework:** React.js
*   **UI Library:** Material-UI (MUI)
*   **Build Tool:** Vite
*   **Charts:** Chart.js, Recharts

### Backend API
*   **Programming Language:** Python
*   **Framework:** Django + Django REST Framework
*   **Database:** SQLite (development) / PostgreSQL (production ready)
*   **External Services:** Firebase Admin SDK
*   **AI Services:** Claude API, Gemini API, DeepSeek API, Google Translate API

## Prerequisites

### General Requirements
*   Git
*   Firebase Project (for authentication, database, and storage)

### Mobile App Requirements
*   [Android Studio](https://developer.android.com/studio) (latest stable version recommended)
*   Android SDK (API Level 27+)
*   JDK 11 or higher

### Web Admin Panel Requirements
*   [Node.js](https://nodejs.org/) (v18 or higher recommended)
*   npm or yarn package manager

### Backend Server Requirements
*   [Python](https://www.python.org/) (3.10 or higher)
*   pip (Python package manager)

## Getting Started

### 1. Clone the Repository

```bash
git clone https://github.com/mhartkhiss/speakforge-capstone2.git
cd speakforge-capstone2
```

### 2. Required Sensitive Files Setup

**Important:** Before running any component, you must set up the required sensitive files. See the [Required Sensitive Files](#required-sensitive-files-setup) section below for detailed instructions.

---

## Mobile App Setup & Running

### Prerequisites
- Android Studio installed
- Android SDK configured
- Firebase project created

### Setup Steps

1. **Navigate to the mobile app directory:**
   ```bash
   cd mobileapp
   ```

2. **Add Firebase Configuration:**
   - Place `google-services.json` in `mobileapp/app/` directory
   - See [Required Sensitive Files](#mobile-app-android) section for details

3. **Open in Android Studio:**
   - Launch Android Studio
   - Select "Open an existing Android Studio project"
   - Navigate to the `mobileapp` directory and select it

4. **Sync Project with Gradle:**
   - Android Studio should automatically start syncing the project with Gradle
   - If not, click "Sync Project with Gradle Files" (elephant icon with sync arrow)
   - This will download all necessary dependencies

5. **Configure SDK Path (if needed):**
   - The `local.properties` file should be auto-generated by Android Studio
   - If missing, create it with your Android SDK path:
     ```
     sdk.dir=C\:\\Users\\YourUsername\\AppData\\Local\\Android\\Sdk
     ```

### Running the Mobile App

1. **Build the Project:**
   - Go to "Build" > "Make Project" or "Build" > "Rebuild Project"

2. **Run the App:**
   - **Select a Run Configuration:** Ensure an Android App configuration is selected (usually `app`)
   - **Choose a Device:**
     - **Emulator:** Select from device dropdown or create one via "Tools" > "AVD Manager"
     - **Physical Device:** Connect via USB with USB Debugging enabled
   - **Click the "Run" button** (green play icon)
   - Android Studio will build the APK, install it on the device/emulator, and launch the app

### Build APK

To build a release APK:
```bash
cd mobileapp
./gradlew assembleRelease
```

The APK will be located at: `mobileapp/app/build/outputs/apk/release/app-release.apk`

---

## Web Admin Panel Setup & Running

### Prerequisites
- Node.js (v18+) installed
- npm or yarn installed
- Firebase project access

### Setup Steps

1. **Navigate to the admin directory:**
   ```bash
   cd admin
   ```

2. **Install dependencies:**
   ```bash
   npm install
   ```
   or
   ```bash
   yarn install
   ```

3. **Add Firebase Service Account Key:**
   - Place `serviceAccountKey.json` in the `admin/` directory
   - See [Required Sensitive Files](#web-admin-panel) section for details

4. **Configure Firebase (if needed):**
   - Update `admin/src/firebase.js` with your Firebase configuration
   - The Firebase config should match your Firebase project settings

### Running the Admin Panel

1. **Start the development server:**
   ```bash
   npm run dev
   ```
   or
   ```bash
   yarn dev
   ```

2. **Access the application:**
   - The admin panel will be available at `http://localhost:5173` (default Vite port)
   - Open your browser and navigate to the URL shown in the terminal

### Build for Production

To build the admin panel for production:
```bash
npm run build
```
or
```bash
yarn build
```

The production build will be in the `admin/dist/` directory.

### Preview Production Build

To preview the production build locally:
```bash
npm run preview
```

---

## Backend Server Setup & Running

### Prerequisites
- Python 3.10+ installed
- pip installed
- Firebase project access
- API keys for translation services (Claude, Gemini, DeepSeek)

### Setup Steps

1. **Navigate to the server directory:**
   ```bash
   cd server
   ```

2. **Create a virtual environment:**
   ```bash
   python -m venv venv
   ```

3. **Activate the virtual environment:**
   - **Windows:**
     ```bash
     .\venv\Scripts\activate
     ```
   - **Unix/MacOS:**
     ```bash
     source venv/bin/activate
     ```

4. **Install dependencies:**
   ```bash
   pip install -r requirements.txt
   ```

5. **Create `.env` file:**
   - Create a `.env` file in the `server/` directory
   - Add your environment variables (see [Required Sensitive Files](#backend-server-django) section)

6. **Run database migrations:**
   ```bash
   python manage.py migrate
   ```

7. **Create a superuser (for admin access):**
   ```bash
   python manage.py createsuperuser
   ```
   - Follow the prompts to create an admin user
   - This user will be able to access the Django admin panel and admin API endpoints

### Running the Backend Server

1. **Start the development server:**
   ```bash
   python manage.py runserver
   ```

2. **Access the API:**
   - The API will be available at `http://localhost:8000/`
   - API endpoints are available at `http://localhost:8000/api/`
   - Admin API endpoints are available at `http://localhost:8000/api/admin/`
   - Django admin panel is available at `http://localhost:8000/admin/`

### Running in Production

For production deployment, use a production WSGI server like Gunicorn:

```bash
gunicorn speakforge_api.wsgi:application --bind 0.0.0.0:8000
```

---

## Required Sensitive Files Setup

**Important:** The following sensitive files are required for the application to function but are excluded from version control for security reasons. You must obtain these files separately and place them in the correct locations:

### Mobile App (Android)

1. **`google-services.json`** (Firebase Configuration)
   - **Location:** `mobileapp/app/google-services.json`
   - **How to obtain:**
     - Go to [Firebase Console](https://console.firebase.google.com/)
     - Select your project (or create a new one)
     - Go to Project Settings > Your apps
     - Click "Add app" > Android
     - Enter your package name: `com.example.appdev` (found in `mobileapp/app/build.gradle`)
     - Download the `google-services.json` file
     - Place it in `mobileapp/app/` directory
   - **Required for:** Firebase Authentication, Realtime Database, and Storage

2. **`local.properties`** (Android SDK Path)
   - **Location:** `mobileapp/local.properties`
   - **Content:** Usually auto-generated by Android Studio
   - **Example:**
     ```
     sdk.dir=C\:\\Users\\YourUsername\\AppData\\Local\\Android\\Sdk
     ```
   - **Required for:** Android build system to locate SDK

### Web Admin Panel

1. **`serviceAccountKey.json`** (Firebase Admin SDK)
   - **Location:** `admin/serviceAccountKey.json`
   - **How to obtain:**
     - Go to [Firebase Console](https://console.firebase.google.com/)
     - Select your project
     - Go to Project Settings > Service Accounts
     - Click "Generate New Private Key"
     - Download the JSON file and rename it to `serviceAccountKey.json`
     - Place it in `admin/` directory
   - **Required for:** Firebase Admin SDK operations (user management, database access)

### Backend Server (Django)

1. **`.env`** (Environment Variables)
   - **Location:** `server/.env`
   - **Required variables:**
     ```env
     # Django Settings
     DEBUG=True
     SECRET_KEY=your-django-secret-key-here
     
     # API Keys for Translation Services
     ANTHROPIC_API_KEY=your-anthropic-api-key
     GEMINI_API_KEY1=your-gemini-api-key
     GEMINI_API_KEY2=your-backup-gemini-api-key
     DEEPSEEK_API_KEY=your-deepseek-api-key
     
     # Firebase Credentials (if using environment variables instead of serviceAccountKey.json)
     FIREBASE_TYPE=service_account
     FIREBASE_PROJECT_ID=your-project-id
     FIREBASE_PRIVATE_KEY_ID=your-private-key-id
     FIREBASE_PRIVATE_KEY=your-private-key-with-newlines
     FIREBASE_CLIENT_EMAIL=your-client-email
     FIREBASE_CLIENT_ID=your-client-id
     FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
     FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token
     FIREBASE_AUTH_PROVIDER_CERT_URL=https://www.googleapis.com/oauth2/v1/certs
     FIREBASE_CLIENT_CERT_URL=your-client-cert-url
     FIREBASE_DATABASE_URL=your-database-url
     ```
   - **How to create:**
     - Create a new `.env` file in the `server/` directory
     - Generate a Django secret key:
       ```bash
       python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
       ```
     - Add your API keys for translation services
     - Add Firebase credentials (or use serviceAccountKey.json file)
   - **Required for:** Django settings, API authentication, translation services

### Security Notes

- **Never commit these files to version control** - They are already listed in `.gitignore`
- **Keep these files secure** - Do not share them publicly or commit them to public repositories
- **Use different credentials for development and production** environments
- If you need to share the project, use environment variable templates (`.env.example`) without actual values

---

## Project Documentation

Detailed documentation for each component is available in:

- **Mobile App:** `mobileapp/docs/` - Feature documentation
- **Web Admin Panel:** `admin/docs/` - Admin panel feature documentation
- **Backend API:** `server/docs/` - API endpoint documentation
- **Firebase Structure:** `mobileapp/FirebaseStructure.md` - Database structure
- **Firebase Storage:** `mobileapp/FirebaseStorage.md` - Storage structure
- **Project Context:** `PROJECT_CONTEXT.md` - Comprehensive project overview

---

## Development Workflow

### Running All Components Together

1. **Start the Backend Server:**
   ```bash
   cd server
   python manage.py runserver
   ```
   Server runs on `http://localhost:8000`

2. **Start the Admin Panel:**
   ```bash
   cd admin
   npm run dev
   ```
   Admin panel runs on `http://localhost:5173`

3. **Run the Mobile App:**
   - Open Android Studio
   - Open the `mobileapp` project
   - Run on an emulator or physical device

### API Endpoints

- **Base URL:** `http://localhost:8000/api/`
- **Translation Endpoints:**
  - `POST /api/translate-simple/` - Simple text translation
  - `POST /api/translate-db-context/` - Context-aware translation
  - `POST /api/regenerate-translation/` - Regenerate translation
- **Admin Endpoints:** `http://localhost:8000/api/admin/`
  - `POST /api/admin/login/` - Admin authentication
  - `GET /api/admin/users/` - User management
  - `GET /api/admin/usage/` - Usage statistics
  - `GET /api/admin/api-usage/` - API usage statistics

---

## Troubleshooting

### Mobile App Issues

- **Gradle sync fails:** Check your internet connection and ensure Android SDK is properly configured
- **Build errors:** Clean and rebuild the project: "Build" > "Clean Project" then "Build" > "Rebuild Project"
- **Firebase errors:** Verify `google-services.json` is in the correct location and matches your Firebase project

### Admin Panel Issues

- **Dependencies not installing:** Try deleting `node_modules` and `package-lock.json`, then run `npm install` again
- **Firebase errors:** Verify `serviceAccountKey.json` is in the `admin/` directory and has correct permissions
- **API connection errors:** Ensure the backend server is running and check the API URL in `admin/src/config.js`

### Backend Server Issues

- **Migration errors:** Run `python manage.py migrate --run-syncdb` to sync database
- **Import errors:** Ensure virtual environment is activated and all dependencies are installed
- **API key errors:** Verify all required API keys are set in the `.env` file
- **Firebase connection errors:** Check Firebase credentials in `.env` or verify `firebase_init.py` configuration

---

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---
## Support

For more information about Firebase setup, refer to the [Firebase documentation](https://firebase.google.com/docs) or contact the project maintainer.

---

*Last Updated: Based on current project structure*
